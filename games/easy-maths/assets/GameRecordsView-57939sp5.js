import{d as j,r as R,k,l as r,m as L,n as V,_ as B,c as m,a as s,t as l,F as G,g as C,p as N,e as U,w as O,i as g,f as E,o as v}from"./index-CtTQSX_b.js";const P=j({name:"GameRecordsView",setup(){const a=R(),t=R([]),p=[{type:"addition",name:"åŠ æ³•æŒ‘æˆ˜",icon:"âž•"},{type:"subtraction",name:"å‡æ³•å¤§å¸ˆ",icon:"âž–"},{type:"multiplication",name:"ä¹˜æ³•è¡¨",icon:"âœ–ï¸"},{type:"division",name:"é™¤æ³•è¾¾äºº",icon:"âž—"},{type:"fractions",name:"åˆ†æ•°æ¸¸æˆ",icon:"ðŸ”¢"},{type:"geometry",name:"å‡ ä½•æŽ¢ç´¢",icon:"ðŸ“"}],c=()=>{t.value=r.getAllRecords()},y=k(()=>r.getGameStats()),b=k(()=>t.value.sort((o,n)=>n.timestamp-o.timestamp).slice(0,10)),u=o=>r.getGameTypeStats(o),e=o=>{const n=p.find(i=>i.type===o);return n?n.icon:"ðŸŽ®"},f=o=>({easy:"ç®€å•",medium:"ä¸­ç­‰",hard:"å›°éš¾"})[o]||o,T=o=>{if(o<60)return`${o}ç§’`;if(o<3600){const n=Math.floor(o/60),i=o%60;return`${n}åˆ†${i}ç§’`}else{const n=Math.floor(o/3600),i=Math.floor(o%3600/60);return`${n}å°æ—¶${i}åˆ†`}},w=o=>{console.log(`æŸ¥çœ‹ ${o} çš„è¯¦ç»†è®°å½•`)},$=o=>{confirm("ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ")&&(r.deleteRecord(o),c())},D=()=>{const o=r.exportGameData();if(o){const n=new Blob([o],{type:"application/json"}),i=URL.createObjectURL(n),d=document.createElement("a");d.href=i,d.download=`game4math_records_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(i)}},h=()=>{var o;(o=a.value)==null||o.click()},I=o=>{var d;const n=o.target,i=(d=n.files)==null?void 0:d[0];if(i){const S=new FileReader;S.onload=F=>{var _;const M=(_=F.target)==null?void 0:_.result;r.importGameData(M)?(alert("æ•°æ®å¯¼å…¥æˆåŠŸï¼"),c()):alert("æ•°æ®å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ï¼")},S.readAsText(i)}n.value=""},A=()=>{confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ¸¸æˆè®°å½•å’Œæˆå°±è¿›åº¦å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼")&&(r.clearAllRecords(),V.resetAchievements(),c(),alert("æ‰€æœ‰è®°å½•å’Œæˆå°±è¿›åº¦å·²æ¸…ç©ºï¼"))};return L(()=>{c()}),{fileInput:a,gameTypes:p,overallStats:y,recentRecords:b,getGameStats:u,getGameIcon:e,getDifficultyText:f,formatTime:T,showGameRecords:w,deleteRecord:$,exportData:D,importData:h,handleFileImport:I,clearAllRecords:A}}}),z={class:"game-records-view"},Q={class:"stats-overview"},q={class:"stats-grid"},H={class:"stat-card"},J={class:"stat-value"},K={class:"stat-card"},W={class:"stat-value"},X={class:"stat-card"},Y={class:"stat-value"},Z={class:"stat-card"},x={class:"stat-value"},ss={class:"stat-card"},ts={class:"stat-value"},es={class:"stat-card"},as={class:"stat-value"},os={class:"game-type-stats"},ls={class:"game-stats-grid"},ns=["onClick"],is={class:"game-icon"},ds={class:"game-name"},rs={class:"game-stats"},cs={class:"stat-item"},ms={class:"stat-value"},vs={class:"stat-item"},ps={class:"stat-value"},us={class:"stat-item"},fs={class:"stat-value"},gs={class:"recent-records"},ys={class:"records-list"},bs={class:"record-header"},Ss={class:"game-info"},_s={class:"game-icon"},Rs={class:"game-name"},ks={class:"record-score"},Gs={class:"score-value"},Cs={class:"record-details"},Ts={class:"detail-item"},ws={class:"detail-value"},$s={class:"detail-item"},Ds={class:"detail-value"},hs={class:"detail-item"},Is={class:"detail-value"},As={class:"detail-item"},Fs={class:"detail-value"},Ms=["onClick"],js={class:"actions"};function Ls(a,t,p,c,y,b){const u=E("router-link");return v(),m("div",z,[t[28]||(t[28]=s("div",{class:"page-header"},[s("h1",null,"ðŸ“Š æ¸¸æˆè®°å½•"),s("p",null,"æŸ¥çœ‹ä½ çš„æ¸¸æˆåŽ†å²å’Œæˆç»©ç»Ÿè®¡")],-1)),s("div",Q,[t[16]||(t[16]=s("h2",null,"æ€»ä½“ç»Ÿè®¡",-1)),s("div",q,[s("div",H,[t[4]||(t[4]=s("div",{class:"stat-icon"},"ðŸŽ®",-1)),s("div",J,l(a.overallStats.totalGames),1),t[5]||(t[5]=s("div",{class:"stat-label"},"æ€»æ¸¸æˆæ¬¡æ•°",-1))]),s("div",K,[t[6]||(t[6]=s("div",{class:"stat-icon"},"ðŸ†",-1)),s("div",W,l(a.overallStats.totalScore),1),t[7]||(t[7]=s("div",{class:"stat-label"},"æ€»å¾—åˆ†",-1))]),s("div",X,[t[8]||(t[8]=s("div",{class:"stat-icon"},"â­",-1)),s("div",Y,l(a.overallStats.averageScore),1),t[9]||(t[9]=s("div",{class:"stat-label"},"å¹³å‡åˆ†",-1))]),s("div",Z,[t[10]||(t[10]=s("div",{class:"stat-icon"},"ðŸ”¥",-1)),s("div",x,l(a.overallStats.bestScore),1),t[11]||(t[11]=s("div",{class:"stat-label"},"æœ€é«˜åˆ†",-1))]),s("div",ss,[t[12]||(t[12]=s("div",{class:"stat-icon"},"â±ï¸",-1)),s("div",ts,l(a.formatTime(a.overallStats.totalPlayTime)),1),t[13]||(t[13]=s("div",{class:"stat-label"},"æ€»æ¸¸æˆæ—¶é—´",-1))]),s("div",es,[t[14]||(t[14]=s("div",{class:"stat-icon"},"ðŸ“…",-1)),s("div",as,l(a.overallStats.lastPlayed||"æš‚æ— "),1),t[15]||(t[15]=s("div",{class:"stat-label"},"æœ€åŽæ¸¸æˆ",-1))])])]),s("div",os,[t[20]||(t[20]=s("h2",null,"å„æ¸¸æˆç»Ÿè®¡",-1)),s("div",ls,[(v(!0),m(G,null,C(a.gameTypes,e=>(v(),m("div",{key:e.type,class:"game-stat-card",onClick:f=>a.showGameRecords(e.type)},[s("div",is,l(e.icon),1),s("div",ds,l(e.name),1),s("div",rs,[s("div",cs,[t[17]||(t[17]=s("span",{class:"stat-label"},"æ¸¸æˆæ¬¡æ•°:",-1)),s("span",ms,l(a.getGameStats(e.type).totalGames),1)]),s("div",vs,[t[18]||(t[18]=s("span",{class:"stat-label"},"æœ€é«˜åˆ†:",-1)),s("span",ps,l(a.getGameStats(e.type).bestScore),1)]),s("div",us,[t[19]||(t[19]=s("span",{class:"stat-label"},"å¹³å‡åˆ†:",-1)),s("span",fs,l(a.getGameStats(e.type).averageScore),1)])])],8,ns))),128))])]),s("div",gs,[t[26]||(t[26]=s("h2",null,"æœ€è¿‘è®°å½•",-1)),s("div",ys,[(v(!0),m(G,null,C(a.recentRecords,e=>(v(),m("div",{key:e.id,class:"record-item"},[s("div",bs,[s("div",Ss,[s("span",_s,l(a.getGameIcon(e.gameType)),1),s("span",Rs,l(e.gameName),1),s("span",{class:N(["difficulty-badge",e.difficulty])},l(a.getDifficultyText(e.difficulty)),3)]),s("div",ks,[s("span",Gs,l(e.score),1),t[21]||(t[21]=s("span",{class:"score-label"},"åˆ†",-1))])]),s("div",Cs,[s("div",Ts,[t[22]||(t[22]=s("span",{class:"detail-label"},"ç­‰çº§:",-1)),s("span",ws,l(e.level),1)]),s("div",$s,[t[23]||(t[23]=s("span",{class:"detail-label"},"æ­£ç¡®:",-1)),s("span",Ds,l(e.correctAnswers)+"/"+l(e.totalQuestions),1)]),s("div",hs,[t[24]||(t[24]=s("span",{class:"detail-label"},"ç”¨æ—¶:",-1)),s("span",Is,l(a.formatTime(e.totalTime)),1)]),s("div",As,[t[25]||(t[25]=s("span",{class:"detail-label"},"æ—¶é—´:",-1)),s("span",Fs,l(e.date),1)])]),s("button",{class:"delete-btn",onClick:f=>a.deleteRecord(e.id),title:"åˆ é™¤è®°å½•"}," ðŸ—‘ï¸ ",8,Ms)]))),128))])]),s("div",js,[s("button",{class:"btn btn-secondary",onClick:t[0]||(t[0]=(...e)=>a.exportData&&a.exportData(...e))}," ðŸ“¤ å¯¼å‡ºæ‰€æœ‰æ•°æ® "),s("button",{class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>a.importData&&a.importData(...e))}," ðŸ“¥ å¯¼å…¥æ‰€æœ‰æ•°æ® "),s("button",{class:"btn btn-danger",onClick:t[2]||(t[2]=(...e)=>a.clearAllRecords&&a.clearAllRecords(...e))}," ðŸ—‘ï¸ æ¸…ç©ºè®°å½• "),U(u,{to:"/games",class:"btn btn-primary"},{default:O(()=>[...t[27]||(t[27]=[g(" ðŸŽ® è¿”å›žæ¸¸æˆ ",-1)])]),_:1})]),t[29]||(t[29]=s("div",{class:"data-info"},[s("p",{class:"info-text"},[g(" ðŸ’¡ "),s("strong",null,"æ•°æ®è¯´æ˜Žï¼š"),g("å¯¼å‡ºå’Œå¯¼å…¥åŠŸèƒ½çŽ°åœ¨åŒ…å«å®Œæ•´çš„ç”¨æˆ·æ•°æ®ï¼ŒåŒ…æ‹¬æ¸¸æˆè®°å½•ã€ç»Ÿè®¡ä¿¡æ¯å’Œæˆå°±è¿›åº¦ã€‚ è¿™å°±åƒæ¸¸æˆçš„ä¿å­˜/è¯»å–åŠŸèƒ½ï¼Œå¯ä»¥å¤‡ä»½ä½ çš„æ‰€æœ‰æ¸¸æˆè¿›åº¦ï¼ ")])],-1)),s("input",{ref:"fileInput",type:"file",accept:".json",style:{display:"none"},onChange:t[3]||(t[3]=(...e)=>a.handleFileImport&&a.handleFileImport(...e))},null,544)])}const Bs=B(P,[["render",Ls],["__scopeId","data-v-26f8fe50"]]);export{Bs as default};
//# sourceMappingURL=GameRecordsView-57939sp5.js.map
