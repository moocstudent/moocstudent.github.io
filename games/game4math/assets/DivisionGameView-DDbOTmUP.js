import{d as H,r as s,k as Z,m as ee,s as te,c as r,a as e,t as l,v as I,x as se,b as Q,y as z,z as K,q as ae,p as oe,i as le,l as ne,n as ie,u as ue,o as c,_ as L,e as E,f as F}from"./index-D4dZDW7N.js";import{G as ve}from"./GameNavigation-0z4dkMUB.js";const re={class:"division-game"},ce={class:"game-header"},de={class:"game-stats"},me={class:"score"},fe={class:"time"},pe={class:"level"},_e={key:0,class:"game-start"},ge={class:"start-content"},he={class:"difficulty-select"},ye={key:1,class:"game-play"},be={class:"question-container"},ke={class:"question"},De={class:"answer-input"},Me={class:"input-group"},xe={key:0,class:"input-group"},Ge={class:"progress-bar"},Te={key:0,class:"feedback"},we={key:1,class:"hint"},$e={key:2,class:"game-over"},Ce={class:"game-over-content"},Ne={class:"final-stats"},Se={class:"final-score"},Ve=H({__name:"DivisionGame",setup(O){const q=ue(),p=s(!1),m=s(!1),o=s("medium"),u=s(0),d=s(60),v=s(1),_=s(0),D=s(0),M=s(0),g=s(0),n=s(0),h=s(""),y=s(""),x=s(!1),w=s(!1),b=s(""),G=s(!1),$=s("");let f=null,k=null;const C={easy:{time:60,maxDividend:50,maxDivisor:10},medium:{time:60,maxDividend:100,maxDivisor:15},hard:{time:60,maxDividend:200,maxDivisor:20}},P=Z(()=>{const a=C[o.value];return(a.time-d.value)/a.time*100}),A=()=>{const a=C[o.value];if(o.value==="easy"){n.value=Math.floor(Math.random()*(a.maxDivisor-1))+2;const t=Math.floor(Math.random()*10)+1;g.value=n.value*t,$.value="è¿™ä¸ªé¢˜ç›®å¯ä»¥æ•´é™¤ï¼Œæ²¡æœ‰ä½™æ•°"}else{n.value=Math.floor(Math.random()*(a.maxDivisor-1))+2;const t=Math.floor(Math.random()*10)+1,i=Math.floor(Math.random()*(n.value-1))+1;g.value=n.value*t+i,$.value=`è¿™ä¸ªé¢˜ç›®æœ‰ä½™æ•°ï¼Œä½™æ•°å°äº ${n.value}`}h.value="",y.value="",D.value++,G.value=!0,setTimeout(()=>{G.value=!1},4e3)},N=()=>{var R,B,U;const a=(B=(R=h.value)==null?void 0:R.toString())==null?void 0:B.trim();if(!a)return;const t=parseInt(a),i=parseInt(((U=y.value)==null?void 0:U.toString())||"0"),T=Math.floor(g.value/n.value),S=g.value%n.value;if(isNaN(t))return;let V=!1;o.value==="easy"?V=t===T&&S===0:V=t===T&&i===S,V?(w.value=!0,b.value="âœ… æ­£ç¡®ï¼",u.value+=10*v.value,_.value++,_.value%5===0&&(v.value++,b.value+=` å‡çº§åˆ° ${v.value} çº§ï¼`)):(w.value=!1,o.value==="easy"?b.value=`âŒ é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${T}`:b.value=`âŒ é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ å•†: ${T}, ä½™æ•°: ${S}`,u.value=Math.max(0,u.value-5)),x.value=!0,k&&clearTimeout(k),k=setTimeout(()=>{x.value=!1,A()},2e3)},j=()=>{p.value=!0,m.value=!1,u.value=0,v.value=1,_.value=0,D.value=0,M.value=0;const a=C[o.value];d.value=a.time,A(),J()},J=()=>{f=setInterval(()=>{d.value--,M.value++,d.value<=0&&W()},1e3)},W=()=>{f&&(clearInterval(f),f=null),m.value=!0,ne.addGameRecord({gameType:"division",gameName:"é™¤æ³•è¾¾äºº",score:u.value,level:v.value,correctAnswers:_.value,totalQuestions:D.value,totalTime:M.value,difficulty:o.value}),ie.checkAchievements()},X=()=>{p.value=!1,m.value=!1,h.value="",y.value="",x.value=!1,G.value=!1},Y=()=>{q.push("/games")};return ee(()=>{p.value&&!m.value&&setTimeout(()=>{const a=document.querySelector("input");a&&a.focus()},100)}),te(()=>{f&&clearInterval(f),k&&clearTimeout(k)}),(a,t)=>(c(),r("div",re,[e("div",ce,[t[3]||(t[3]=e("h2",null,"â— é™¤æ³•è¾¾äºº",-1)),e("div",de,[e("span",me,"å¾—åˆ†: "+l(u.value),1),e("span",fe,"æ—¶é—´: "+l(d.value)+"s",1),e("span",pe,"ç­‰çº§: "+l(v.value),1)])]),p.value?m.value?(c(),r("div",$e,[e("div",Ce,[t[11]||(t[11]=e("h3",null,"æ¸¸æˆç»“æŸï¼",-1)),e("div",Ne,[e("p",null,[t[10]||(t[10]=le("æœ€ç»ˆå¾—åˆ†: ",-1)),e("span",Se,l(u.value),1)]),e("p",null,"æ­£ç¡®é¢˜ç›®: "+l(_.value)+"/"+l(D.value),1),e("p",null,"ç”¨æ—¶: "+l(M.value)+"ç§’",1)]),e("div",{class:"game-actions"},[e("button",{class:"btn btn-primary",onClick:X},"å†ç©ä¸€æ¬¡"),e("button",{class:"btn btn-secondary",onClick:Y},"è¿”å›æ¸¸æˆåˆ—è¡¨")])])])):(c(),r("div",ye,[e("div",be,[e("div",ke,l(g.value)+" Ã· "+l(n.value)+" = ?",1),e("div",De,[e("div",Me,[t[8]||(t[8]=e("label",null,"å•†:",-1)),I(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>h.value=i),type:"number",placeholder:"è¾“å…¥å•†",onKeyup:K(N,["enter"])},null,544),[[z,h.value]])]),o.value!=="easy"?(c(),r("div",xe,[t[9]||(t[9]=e("label",null,"ä½™æ•°:",-1)),I(e("input",{"onUpdate:modelValue":t[2]||(t[2]=i=>y.value=i),type:"number",placeholder:"è¾“å…¥ä½™æ•°",onKeyup:K(N,["enter"])},null,544),[[z,y.value]])])):Q("",!0),e("button",{class:"btn btn-primary",onClick:N},"ç¡®è®¤")])]),e("div",Ge,[e("div",{class:"progress",style:ae({width:P.value+"%"})},null,4)]),x.value?(c(),r("div",Te,[e("div",{class:oe(["feedback-message",w.value?"correct":"incorrect"])},l(b.value),3)])):Q("",!0),G.value?(c(),r("div",we,[e("p",null,"ğŸ’¡ æç¤º: "+l($.value),1)])):Q("",!0)])):(c(),r("div",_e,[e("div",ge,[t[6]||(t[6]=e("h3",null,"å‡†å¤‡å¼€å§‹é™¤æ³•æŒ‘æˆ˜ï¼",-1)),t[7]||(t[7]=e("p",null,"ç†è§£é™¤æ³•æ¦‚å¿µï¼Œå­¦ä¼šæ•´é™¤å’Œä½™æ•°",-1)),e("div",he,[t[5]||(t[5]=e("label",null,"é€‰æ‹©éš¾åº¦:",-1)),I(e("select",{"onUpdate:modelValue":t[0]||(t[0]=i=>o.value=i)},[...t[4]||(t[4]=[e("option",{value:"easy"},"ç®€å• (æ•´é™¤)",-1),e("option",{value:"medium"},"ä¸­ç­‰ (æœ‰ä½™æ•°)",-1),e("option",{value:"hard"},"å›°éš¾ (æ··åˆ)",-1)])],512),[[se,o.value]])]),e("button",{class:"btn btn-primary",onClick:j},"å¼€å§‹æ¸¸æˆ")])]))]))}}),Ie=L(Ve,[["__scopeId","data-v-72daf8d9"]]),Qe=H({name:"DivisionGameView",components:{DivisionGame:Ie,GameNavigation:ve}}),qe={class:"division-game-view"},Ae={class:"game-content"};function Re(O,q,p,m,o,u){const d=F("GameNavigation"),v=F("DivisionGame");return c(),r("div",qe,[E(d,{gameTitle:"â— é™¤æ³•è¾¾äºº"}),e("div",Ae,[E(v)])])}const ze=L(Qe,[["render",Re],["__scopeId","data-v-6961533b"]]);export{ze as default};
//# sourceMappingURL=DivisionGameView-DDbOTmUP.js.map
