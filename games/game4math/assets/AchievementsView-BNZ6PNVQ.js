import{d as C,r as y,k as p,n as c,m as S,_ as N,c as l,a as s,b as h,i as d,e as k,w as g,f as $,q as _,t as i,F as v,g as u,p as b,o as a}from"./index-D4dZDW7N.js";const V=C({name:"AchievementsView",setup(){const o=y([]),e=p(()=>c.getAllAchievements()),f=p(()=>c.getAchievementCategories()),w=p(()=>c.getAchievementStats()),m=()=>{const n=c.checkAchievements();n.length>0&&(o.value=n)},A=()=>{confirm("ç¡®å®šè¦é‡ç½®æ‰€æœ‰æˆå°±å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚")&&(c.resetAchievements(),o.value=[])},r=()=>{o.value=[]},t=n=>new Date(n).toLocaleDateString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return S(()=>{m()}),{achievements:e,achievementCategories:f,achievementStats:w,newUnlockedAchievements:o,refreshAchievements:m,resetAchievements:A,dismissNotifications:r,formatDate:t}}}),q={class:"achievements-view"},D={class:"data-management-note"},U={class:"note-text"},z={class:"achievement-overview"},B={class:"overview-card"},F={class:"overview-content"},L={class:"progress-bar"},E={class:"overview-card"},I={class:"overview-content"},M={class:"completion-percentage"},T={class:"achievement-categories"},j={class:"categories-grid"},G={class:"category-header"},H={class:"category-count"},J={class:"category-progress"},K={class:"progress-bar"},O={class:"achievements-list"},P={class:"category-title"},Q={class:"achievements-grid"},R={class:"achievement-icon"},W={class:"achievement-content"},X={class:"achievement-name"},Y={class:"achievement-description"},Z={class:"achievement-requirement"},x={class:"requirement-text"},ss={key:0,class:"achievement-progress"},es={class:"progress-info"},ts={class:"progress-bar"},ns={key:1,class:"unlock-time"},os={class:"achievement-status"},is={key:0,class:"status-unlocked"},ls={key:1,class:"status-locked"},as={class:"actions"},ds={key:0,class:"achievement-notification"},rs={class:"notification-header"},cs={class:"notification-content"},vs={class:"achievement-icon"},us={class:"achievement-name"},ms={class:"achievement-desc"};function ps(o,e,f,w,m,A){const r=$("router-link");return a(),l("div",q,[e[21]||(e[21]=s("div",{class:"page-header"},[s("h1",null,"ðŸ† æˆå°±ç³»ç»Ÿ"),s("p",null,"æŒ‘æˆ˜è‡ªæˆ‘ï¼Œè§£é”æ›´å¤šæˆå°±ï¼")],-1)),s("div",D,[s("p",U,[e[4]||(e[4]=d(" ðŸ’¾ ",-1)),e[5]||(e[5]=s("strong",null,"æ•°æ®ç®¡ç†ï¼š",-1)),e[6]||(e[6]=d("æˆå°±è¿›åº¦ä¼šè‡ªåŠ¨ä¿å­˜ã€‚å¦‚éœ€å¤‡ä»½æˆ–æ¢å¤æ‰€æœ‰æ¸¸æˆæ•°æ®ï¼ˆåŒ…æ‹¬è®°å½•å’Œæˆå°±ï¼‰ï¼Œ è¯·å‰å¾€ ",-1)),k(r,{to:"/records",class:"records-link"},{default:g(()=>[...e[3]||(e[3]=[d("ðŸ“Š æ¸¸æˆè®°å½•",-1)])]),_:1}),e[7]||(e[7]=d(" é¡µé¢ä½¿ç”¨å¯¼å‡º/å¯¼å…¥åŠŸèƒ½ã€‚ ",-1))])]),s("div",z,[s("div",B,[e[9]||(e[9]=s("div",{class:"overview-icon"},"ðŸŽ¯",-1)),s("div",F,[e[8]||(e[8]=s("h3",null,"æ€»ä½“è¿›åº¦",-1)),s("div",L,[s("div",{class:"progress-fill",style:_({width:`${o.achievementStats.percentage}%`})},null,4)]),s("p",null,i(o.achievementStats.unlocked)+" / "+i(o.achievementStats.total)+" æˆå°±å·²è§£é”",1)])]),s("div",E,[e[12]||(e[12]=s("div",{class:"overview-icon"},"â­",-1)),s("div",I,[e[10]||(e[10]=s("h3",null,"å®Œæˆåº¦",-1)),s("div",M,i(o.achievementStats.percentage)+"%",1),e[11]||(e[11]=s("p",null,"ç»§ç»­åŠªåŠ›ï¼Œè§£é”æ›´å¤šæˆå°±ï¼",-1))])])]),s("div",T,[e[13]||(e[13]=s("h2",null,"æˆå°±åˆ†ç±»",-1)),s("div",j,[(a(!0),l(v,null,u(o.achievementCategories,t=>(a(),l("div",{key:t.name,class:b(["category-card",{"has-unlocked":t.unlockedCount>0}])},[s("div",G,[s("h3",null,i(t.name),1),s("span",H,i(t.unlockedCount)+"/"+i(t.totalCount),1)]),s("div",J,[s("div",K,[s("div",{class:"progress-fill",style:_({width:`${t.unlockedCount/t.totalCount*100}%`})},null,4)])])],2))),128))])]),s("div",O,[e[17]||(e[17]=s("h2",null,"æ‰€æœ‰æˆå°±",-1)),(a(!0),l(v,null,u(o.achievementCategories,t=>(a(),l("div",{key:t.name,class:"category-section"},[s("h3",P,i(t.name),1),s("div",Q,[(a(!0),l(v,null,u(t.achievements,n=>(a(),l("div",{key:n.id,class:b(["achievement-card",{unlocked:n.unlocked,locked:!n.unlocked}])},[s("div",R,i(n.icon),1),s("div",W,[s("h4",X,i(n.name),1),s("p",Y,i(n.description),1),s("div",Z,[e[14]||(e[14]=s("span",{class:"requirement-label"},"è¦æ±‚ï¼š",-1)),s("span",x,i(n.requirement),1)]),!n.unlocked&&n.progress?(a(),l("div",ss,[s("div",es,[s("span",null,i(n.progress.current)+" / "+i(n.progress.target),1),s("span",null,i(n.progress.percentage)+"%",1)]),s("div",ts,[s("div",{class:"progress-fill",style:_({width:`${n.progress.percentage}%`})},null,4)])])):h("",!0),n.unlocked&&n.unlockedAt?(a(),l("div",ns," è§£é”æ—¶é—´ï¼š"+i(o.formatDate(n.unlockedAt)),1)):h("",!0)]),s("div",os,[n.unlocked?(a(),l("div",is,[...e[15]||(e[15]=[s("span",{class:"unlock-icon"},"âœ…",-1),s("span",{class:"unlock-text"},"å·²è§£é”",-1)])])):(a(),l("div",ls,[...e[16]||(e[16]=[s("span",{class:"lock-icon"},"ðŸ”’",-1),s("span",{class:"lock-text"},"æœªè§£é”",-1)])]))])],2))),128))])]))),128))]),s("div",as,[s("button",{onClick:e[0]||(e[0]=(...t)=>o.refreshAchievements&&o.refreshAchievements(...t)),class:"action-btn refresh-btn"}," ðŸ”„ åˆ·æ–°æˆå°± "),s("button",{onClick:e[1]||(e[1]=(...t)=>o.resetAchievements&&o.resetAchievements(...t)),class:"action-btn reset-btn"}," ðŸ”„ é‡ç½®æˆå°± "),k(r,{to:"/records",class:"action-btn back-btn"},{default:g(()=>[...e[18]||(e[18]=[d(" ðŸ“Š æŸ¥çœ‹è®°å½• ",-1)])]),_:1}),k(r,{to:"/",class:"action-btn home-btn"},{default:g(()=>[...e[19]||(e[19]=[d(" ðŸ  è¿”å›žé¦–é¡µ ",-1)])]),_:1})]),o.newUnlockedAchievements.length>0?(a(),l("div",ds,[s("div",rs,[e[20]||(e[20]=s("h3",null,"ðŸŽ‰ æ–°è§£é”æˆå°±ï¼",-1)),s("button",{onClick:e[2]||(e[2]=(...t)=>o.dismissNotifications&&o.dismissNotifications(...t)),class:"dismiss-btn"},"Ã—")]),s("div",cs,[(a(!0),l(v,null,u(o.newUnlockedAchievements,t=>(a(),l("div",{key:t.id,class:"notification-item"},[s("span",vs,i(t.icon),1),s("span",us,i(t.name),1),s("span",ms,i(t.description),1)]))),128))])])):h("",!0)])}const ks=N(V,[["render",ps],["__scopeId","data-v-62f7c398"]]);export{ks as default};
//# sourceMappingURL=AchievementsView-BNZ6PNVQ.js.map
