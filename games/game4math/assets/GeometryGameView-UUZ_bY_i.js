import{d as P,r,k as Y,m as Z,s as ee,c as l,a,t as n,v as A,x as ae,b as f,p as w,F as te,g as se,y as B,z as U,q as le,i as oe,l as ie,n as ne,u as re,o,_ as Q,e as D,f as K}from"./index-D4dZDW7N.js";import{G as ue}from"./GameNavigation-0z4dkMUB.js";const ce={class:"geometry-game"},ve={class:"game-header"},de={class:"game-stats"},me={class:"score"},pe={class:"time"},he={class:"level"},fe={key:0,class:"game-start"},ye={class:"start-content"},_e={class:"difficulty-select"},ge={key:1,class:"game-play"},ke={class:"question-container"},Me={class:"question"},Se={key:0,class:"identify-shape"},be={class:"shape-display"},we={key:0,class:"circle"},xe={key:1,class:"square"},qe={key:2,class:"rectangle"},Ge={key:3,class:"triangle"},ze={class:"shape-options"},Te=["onClick"],Ce={key:1,class:"area-calculation"},Ne={class:"shape-display"},Ae={key:0,class:"circle"},Ie={key:1,class:"square"},Ve={key:2,class:"rectangle"},$e={key:3,class:"triangle"},Fe={class:"shape-info"},Be={key:0},Ue={key:1},De={key:2},Ke={key:3},Pe={class:"answer-input"},Qe={key:2,class:"perimeter-calculation"},Le={class:"shape-display"},Oe={key:0,class:"circle"},Re={key:1,class:"square"},Ee={key:2,class:"rectangle"},He={key:3,class:"triangle"},je={class:"shape-info"},Je={key:0},We={key:1},Xe={key:2},Ye={key:3},Ze={class:"answer-input"},ea={class:"progress-bar"},aa={key:0,class:"feedback"},ta={key:1,class:"hint"},sa={key:2,class:"game-over"},la={class:"game-over-content"},oa={class:"final-stats"},ia={class:"final-score"},na=P({__name:"GeometryGame",setup(L){const I=re(),y=r(!1),p=r(!1),d=r("medium"),h=r(0),k=r(60),_=r(1),M=r(0),x=r(0),q=r(0),v=r("identify"),e=r({type:"circle",radius:0,side:0,length:0,width:0,base:0,height:0,side1:0,side2:0,side3:0}),u=r(""),G=r(!1),T=r(!1),S=r(""),z=r(!1),c=r("");let g=null,b=null;const C={easy:{time:60,maxSize:10},medium:{time:60,maxSize:15},hard:{time:60,maxSize:20}},O=["åœ†å½¢","æ­£æ–¹å½¢","é•¿æ–¹å½¢","ä¸‰è§’å½¢"],R=Y(()=>{const t=C[d.value];return(t.time-k.value)/t.time*100}),V=()=>{const t=C[d.value];if(d.value==="easy"){v.value="identify";const s=["circle","square","rectangle","triangle"],i=s[Math.floor(Math.random()*s.length)];e.value.type=i,c.value="ä»”ç»†è§‚å¯Ÿå›¾å½¢çš„å½¢çŠ¶ç‰¹å¾"}else if(d.value==="medium"){v.value="area";const s=["circle","square","rectangle","triangle"],i=s[Math.floor(Math.random()*s.length)];e.value.type=i,i==="circle"?(e.value.radius=Math.floor(Math.random()*t.maxSize)+1,c.value="åœ†çš„é¢ç§¯ = Ï€ Ã— åŠå¾„Â² (Ï€ â‰ˆ 3.14)"):i==="square"?(e.value.side=Math.floor(Math.random()*t.maxSize)+1,c.value="æ­£æ–¹å½¢çš„é¢ç§¯ = è¾¹é•¿Â²"):i==="rectangle"?(e.value.length=Math.floor(Math.random()*t.maxSize)+1,e.value.width=Math.floor(Math.random()*t.maxSize)+1,c.value="é•¿æ–¹å½¢çš„é¢ç§¯ = é•¿ Ã— å®½"):i==="triangle"&&(e.value.base=Math.floor(Math.random()*t.maxSize)+1,e.value.height=Math.floor(Math.random()*t.maxSize)+1,c.value="ä¸‰è§’å½¢çš„é¢ç§¯ = åº• Ã— é«˜ Ã· 2")}else{v.value="perimeter";const s=["circle","square","rectangle","triangle"],i=s[Math.floor(Math.random()*s.length)];e.value.type=i,i==="circle"?(e.value.radius=Math.floor(Math.random()*t.maxSize)+1,c.value="åœ†çš„å‘¨é•¿ = 2 Ã— Ï€ Ã— åŠå¾„ (Ï€ â‰ˆ 3.14)"):i==="square"?(e.value.side=Math.floor(Math.random()*t.maxSize)+1,c.value="æ­£æ–¹å½¢çš„å‘¨é•¿ = 4 Ã— è¾¹é•¿"):i==="rectangle"?(e.value.length=Math.floor(Math.random()*t.maxSize)+1,e.value.width=Math.floor(Math.random()*t.maxSize)+1,c.value="é•¿æ–¹å½¢çš„å‘¨é•¿ = 2 Ã— (é•¿ + å®½)"):i==="triangle"&&(e.value.side1=Math.floor(Math.random()*t.maxSize)+1,e.value.side2=Math.floor(Math.random()*t.maxSize)+1,e.value.side3=Math.floor(Math.random()*t.maxSize)+1,c.value="ä¸‰è§’å½¢çš„å‘¨é•¿ = ä¸‰è¾¹ä¹‹å’Œ")}u.value="",x.value++,z.value=!0,setTimeout(()=>{z.value=!1},4e3)},N=()=>{var s,i;let t=!1;if(v.value==="identify"){if(!u.value)return;t={åœ†å½¢:"circle",æ­£æ–¹å½¢:"square",é•¿æ–¹å½¢:"rectangle",ä¸‰è§’å½¢:"triangle"}[u.value]===e.value.type}else{const m=(i=(s=u.value)==null?void 0:s.toString())==null?void 0:i.trim();if(!m)return;const F=parseFloat(m);if(isNaN(F))return;const X=$();t=Math.abs(F-X)<.1}if(t)T.value=!0,S.value="âœ… æ­£ç¡®ï¼",h.value+=10*_.value,M.value++,M.value%5===0&&(_.value++,S.value+=` å‡çº§åˆ° ${_.value} çº§ï¼`);else{if(T.value=!1,v.value==="identify"){const m={circle:"åœ†å½¢",square:"æ­£æ–¹å½¢",rectangle:"é•¿æ–¹å½¢",triangle:"ä¸‰è§’å½¢"};S.value=`âŒ é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${m[e.value.type]}`}else{const m=$();S.value=`âŒ é”™è¯¯ï¼æ­£ç¡®ç­”æ¡ˆæ˜¯ ${m.toFixed(2)}`}h.value=Math.max(0,h.value-5)}G.value=!0,b&&clearTimeout(b),b=setTimeout(()=>{G.value=!1,V()},2e3)},$=()=>{const t=e.value;if(v.value==="area"){if(t.type==="circle")return Math.PI*t.radius*t.radius;if(t.type==="square")return t.side*t.side;if(t.type==="rectangle")return t.length*t.width;if(t.type==="triangle")return t.base*t.height/2}else if(v.value==="perimeter"){if(t.type==="circle")return 2*Math.PI*t.radius;if(t.type==="square")return 4*t.side;if(t.type==="rectangle")return 2*(t.length+t.width);if(t.type==="triangle")return t.side1+t.side2+t.side3}return 0},E=()=>{y.value=!0,p.value=!1,h.value=0,_.value=1,M.value=0,x.value=0,q.value=0;const t=C[d.value];k.value=t.time,V(),H()},H=()=>{g=setInterval(()=>{k.value--,q.value++,k.value<=0&&j()},1e3)},j=()=>{g&&(clearInterval(g),g=null),p.value=!0,ie.addGameRecord({gameType:"geometry",gameName:"å‡ ä½•æ¢ç´¢",score:h.value,level:_.value,correctAnswers:M.value,totalQuestions:x.value,totalTime:q.value,difficulty:d.value}),ne.checkAchievements()},J=()=>{y.value=!1,p.value=!1,u.value="",G.value=!1,z.value=!1},W=()=>{I.push("/games")};return Z(()=>{y.value&&!p.value&&setTimeout(()=>{const t=document.querySelector("input");t&&t.focus()},100)}),ee(()=>{g&&clearInterval(g),b&&clearTimeout(b)}),(t,s)=>(o(),l("div",ce,[a("div",ve,[s[3]||(s[3]=a("h2",null,"ğŸ“ å‡ ä½•æ¢ç´¢",-1)),a("div",de,[a("span",me,"å¾—åˆ†: "+n(h.value),1),a("span",pe,"æ—¶é—´: "+n(k.value)+"s",1),a("span",he,"ç­‰çº§: "+n(_.value),1)])]),y.value?p.value?(o(),l("div",sa,[a("div",la,[s[14]||(s[14]=a("h3",null,"æ¸¸æˆç»“æŸï¼",-1)),a("div",oa,[a("p",null,[s[13]||(s[13]=oe("æœ€ç»ˆå¾—åˆ†: ",-1)),a("span",ia,n(h.value),1)]),a("p",null,"æ­£ç¡®é¢˜ç›®: "+n(M.value)+"/"+n(x.value),1),a("p",null,"ç”¨æ—¶: "+n(q.value)+"ç§’",1)]),a("div",{class:"game-actions"},[a("button",{class:"btn btn-primary",onClick:J},"å†ç©ä¸€æ¬¡"),a("button",{class:"btn btn-secondary",onClick:W},"è¿”å›æ¸¸æˆåˆ—è¡¨")])])])):(o(),l("div",ge,[a("div",ke,[a("div",Me,[v.value==="identify"?(o(),l("div",Se,[a("div",be,[a("div",{class:w(["shape",e.value.type])},[e.value.type==="circle"?(o(),l("div",we)):e.value.type==="square"?(o(),l("div",xe)):e.value.type==="rectangle"?(o(),l("div",qe)):e.value.type==="triangle"?(o(),l("div",Ge)):f("",!0)],2)]),s[8]||(s[8]=a("p",{class:"question-text"},"è¿™æ˜¯ä»€ä¹ˆå›¾å½¢ï¼Ÿ",-1)),a("div",ze,[(o(),l(te,null,se(O,i=>a("button",{key:i,class:w(["shape-option",{selected:u.value===i}]),onClick:m=>u.value=i},n(i),11,Te)),64))])])):v.value==="area"?(o(),l("div",Ce,[a("div",Ne,[a("div",{class:w(["shape",e.value.type])},[e.value.type==="circle"?(o(),l("div",Ae)):e.value.type==="square"?(o(),l("div",Ie)):e.value.type==="rectangle"?(o(),l("div",Ve)):e.value.type==="triangle"?(o(),l("div",$e)):f("",!0)],2)]),a("div",Fe,[e.value.type==="circle"?(o(),l("p",Be," åœ†çš„åŠå¾„: "+n(e.value.radius)+" å•ä½ ",1)):e.value.type==="square"?(o(),l("p",Ue," æ­£æ–¹å½¢çš„è¾¹é•¿: "+n(e.value.side)+" å•ä½ ",1)):e.value.type==="rectangle"?(o(),l("p",De," é•¿æ–¹å½¢çš„é•¿: "+n(e.value.length)+" å•ä½ï¼Œå®½: "+n(e.value.width)+" å•ä½ ",1)):e.value.type==="triangle"?(o(),l("p",Ke," ä¸‰è§’å½¢çš„åº•: "+n(e.value.base)+" å•ä½ï¼Œé«˜: "+n(e.value.height)+" å•ä½ ",1)):f("",!0)]),s[10]||(s[10]=a("p",{class:"question-text"},"è®¡ç®—è¿™ä¸ªå›¾å½¢çš„é¢ç§¯",-1)),a("div",Pe,[A(a("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>u.value=i),type:"number",placeholder:"è¾“å…¥é¢ç§¯",onKeyup:U(N,["enter"]),ref:"answerInput",autofocus:""},null,544),[[B,u.value]]),s[9]||(s[9]=a("span",{class:"unit"},"å¹³æ–¹å•ä½",-1))])])):(o(),l("div",Qe,[a("div",Le,[a("div",{class:w(["shape",e.value.type])},[e.value.type==="circle"?(o(),l("div",Oe)):e.value.type==="square"?(o(),l("div",Re)):e.value.type==="rectangle"?(o(),l("div",Ee)):e.value.type==="triangle"?(o(),l("div",He)):f("",!0)],2)]),a("div",je,[e.value.type==="circle"?(o(),l("p",Je," åœ†çš„åŠå¾„: "+n(e.value.radius)+" å•ä½ ",1)):e.value.type==="square"?(o(),l("p",We," æ­£æ–¹å½¢çš„è¾¹é•¿: "+n(e.value.side)+" å•ä½ ",1)):e.value.type==="rectangle"?(o(),l("p",Xe," é•¿æ–¹å½¢çš„é•¿: "+n(e.value.length)+" å•ä½ï¼Œå®½: "+n(e.value.width)+" å•ä½ ",1)):e.value.type==="triangle"?(o(),l("p",Ye," ä¸‰è§’å½¢çš„ä¸‰è¾¹: "+n(e.value.side1)+", "+n(e.value.side2)+", "+n(e.value.side3)+" å•ä½ ",1)):f("",!0)]),s[12]||(s[12]=a("p",{class:"question-text"},"è®¡ç®—è¿™ä¸ªå›¾å½¢çš„å‘¨é•¿",-1)),a("div",Ze,[A(a("input",{"onUpdate:modelValue":s[2]||(s[2]=i=>u.value=i),type:"number",placeholder:"è¾“å…¥å‘¨é•¿",onKeyup:U(N,["enter"]),ref:"answerInput",autofocus:""},null,544),[[B,u.value]]),s[11]||(s[11]=a("span",{class:"unit"},"å•ä½",-1))])]))]),a("button",{class:"btn btn-primary",onClick:N},"ç¡®è®¤")]),a("div",ea,[a("div",{class:"progress",style:le({width:R.value+"%"})},null,4)]),G.value?(o(),l("div",aa,[a("div",{class:w(["feedback-message",T.value?"correct":"incorrect"])},n(S.value),3)])):f("",!0),z.value?(o(),l("div",ta,[a("p",null,"ğŸ’¡ æç¤º: "+n(c.value),1)])):f("",!0)])):(o(),l("div",fe,[a("div",ye,[s[6]||(s[6]=a("h3",null,"å‡†å¤‡å¼€å§‹å‡ ä½•æ¢ç´¢ï¼",-1)),s[7]||(s[7]=a("p",null,"æ¢ç´¢å‡ ä½•ä¸–ç•Œï¼Œè®¤è¯†å„ç§å›¾å½¢ï¼Œè®¡ç®—é¢ç§¯å’Œå‘¨é•¿",-1)),a("div",_e,[s[5]||(s[5]=a("label",null,"é€‰æ‹©éš¾åº¦:",-1)),A(a("select",{"onUpdate:modelValue":s[0]||(s[0]=i=>d.value=i)},[...s[4]||(s[4]=[a("option",{value:"easy"},"ç®€å• (åŸºæœ¬å›¾å½¢)",-1),a("option",{value:"medium"},"ä¸­ç­‰ (é¢ç§¯è®¡ç®—)",-1),a("option",{value:"hard"},"å›°éš¾ (å‘¨é•¿è®¡ç®—)",-1)])],512),[[ae,d.value]])]),a("button",{class:"btn btn-primary",onClick:E},"å¼€å§‹æ¸¸æˆ")])]))]))}}),ra=Q(na,[["__scopeId","data-v-e7839a5d"]]),ua=P({name:"GeometryGameView",components:{GeometryGame:ra,GameNavigation:ue}}),ca={class:"geometry-game-view"},va={class:"game-content"};function da(L,I){const y=K("GameNavigation"),p=K("GeometryGame");return o(),l("div",ca,[D(y,{gameTitle:"ğŸ“ å‡ ä½•æ¢ç´¢"}),a("div",va,[D(p)])])}const ha=Q(ua,[["render",da],["__scopeId","data-v-9124657f"]]);export{ha as default};
//# sourceMappingURL=GeometryGameView-UUZ_bY_i.js.map
